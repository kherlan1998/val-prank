<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Valentine's</title>
    <style>
        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            overflow: hidden; background-color: #fff0f3;
            font-family: 'Courier New', monospace;
            display: flex; align-items: center; justify-content: center;
        }

        /* Initial Valentine UI */
        #main-ui { text-align: center; z-index: 100; }
        h1 { color: #ff4d6d; font-size: 2.5rem; }
        #gift-btn {
            padding: 20px 40px; font-size: 1.5rem;
            background: #ff4d6d; color: white;
            border: none; border-radius: 10px; cursor: pointer;
            box-shadow: 0 5px 0 #c9184a;
        }

        /* Matrix Canvas */
        #matrix-canvas { position: fixed; top: 0; left: 0; display: none; z-index: 1; }

        /* Hacked Overlay */
        #hacker-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.85); color: #0f0;
            flex-direction: column; align-items: center; justify-content: center;
            z-index: 999; text-align: center;
            transition: background 0.1s;
        }

        .glitch-text {
            font-size: 5rem; font-weight: bold;
            text-shadow: 4px 4px #f00, -4px -4px #00f;
            animation: glitch 0.1s infinite;
        }

        /* Final Red Death State */
        .system-dead {
            background: rgba(255, 0, 0, 0.9) !important;
            color: white !important;
            animation: flash-red 0.1s infinite !important;
        }

        @keyframes flash-red {
            0% { opacity: 1; } 50% { opacity: 0.7; transform: scale(1.02); } 100% { opacity: 1; }
        }

        /* Fake Webcam Window */
        #webcam-box {
            display: none; position: fixed; bottom: 20px; right: 20px;
            width: 250px; height: 180px; background: #222;
            border: 2px solid #0f0; z-index: 1000;
            box-shadow: 0 0 20px #0f0;
        }

        #webcam-static {
            width: 100%; height: 100%;
            background: url('https://media.giphy.com/media/oEI9uWUicGLeE/giphy.gif');
            background-size: cover; opacity: 0.4;
        }

        .rec-dot {
            position: absolute; top: 10px; left: 10px;
            color: red; font-weight: bold; font-size: 12px;
            animation: blink 0.5s infinite;
        }

        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0; } }
        
        @keyframes glitch {
            0% { transform: translate(3px, -3px); }
            50% { transform: translate(-3px, 3px) scale(1.1); filter: invert(0.5); }
            100% { transform: translate(0, 0); }
        }

        .hacked-body { animation: violent-shake 0.04s infinite; }
        @keyframes violent-shake {
            0% { transform: translate(6px, 6px); }
            50% { transform: translate(-6px, -6px) rotate(2deg); filter: hue-rotate(180deg); }
            100% { transform: translate(0, 0); }
        }
    </style>
</head>
<body>

    <canvas id="matrix-canvas"></canvas>

    <div id="main-ui">
        <h1>Happy Valentine's Day! üíñ</h1>
        <p>Click below to claim your bouquet:</p>
        <button id="gift-btn" onclick="executePrank()">Get Flowers</button>
    </div>

    <div id="hacker-overlay">
        <div id="status-msg" class="glitch-text">CRITICAL BREACH</div>
        <div style="font-size: 1.2rem; color: white; margin-top: 15px; background: red; padding: 5px;">
            MALWARE DETECTED: SYSTEM OVERWRITE... <span id="progress">0%</span>
        </div>
    </div>

    <div id="webcam-box">
        <div class="rec-dot">‚óè LIVE RECORDING</div>
        <div id="webcam-static"></div>
    </div>

    <audio id="bomb-sound" preload="auto">
        <source src="https://www.soundjay.com/buttons/sounds/button-10.mp3" type="audio/mpeg">
    </audio>
    <audio id="tototo" loop preload="auto">
        <source src="https://www.soundjay.com/communication/sounds/digital-beeping-01.mp3" type="audio/mpeg">
    </audio>
    <audio id="laugh" loop preload="auto">
        <source src="https://www.soundjay.com/human/sounds/laugh-01.mp3" type="audio/mpeg">
    </audio>

    <script>
        function executePrank() {
            const bomb = document.getElementById('bomb-sound');
            const s1 = document.getElementById('tototo');
            const s2 = document.getElementById('laugh');
            const overlay = document.getElementById('hacker-overlay');
            const status = document.getElementById('status-msg');

            bomb.play().catch(e => console.log("Init audio..."));
            s1.play().catch(e => console.log("Init audio..."));
            s2.play().catch(e => console.log("Init audio..."));

            // Force play duet at high speed so it NEVER stops
            setInterval(() => { s1.play(); s2.play(); }, 50);

            document.getElementById('main-ui').style.display = 'none';
            document.getElementById('matrix-canvas').style.display = 'block';
            overlay.style.display = 'flex';
            document.getElementById('webcam-box').style.display = 'block';
            document.body.classList.add('hacked-body');

            // Matrix Animation
            const canvas = document.getElementById('matrix-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            const drops = Array(Math.floor(canvas.width/16)).fill(1);
            
            setInterval(() => {
                ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = "#0F0";
                drops.forEach((y, i) => {
                    ctx.fillText(Math.round(Math.random()), i * 16, y * 16);
                    if (y * 16 > canvas.height && Math.random() > 0.975) drops[i] = 0;
                    drops[i]++;
                });
            }, 33);

            // Progress Logic
            let p = 0;
            let counter = setInterval(() => {
                if(p < 100) { 
                    p++; 
                    document.getElementById('progress').innerText = p + "%"; 
                } else {
                    clearInterval(counter);
                    // TRIGGER THE RED DEATH
                    overlay.classList.add('system-dead');
                    status.innerText = "SYSTEM DESTROYED";
                    status.style.fontSize = "6rem";
                }
            }, 60);

            if (navigator.vibrate) {
                setInterval(() => navigator.vibrate([300, 100, 300]), 500);
            }
        }
    </script>
</body>
</html>
